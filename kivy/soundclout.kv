#: kivy 1.10.0
#: import hex kivy.utils.get_color_from_hex
#: import main soundclout
#: import ListAdapter kivy.adapters.listadapter.ListAdapter
#: import ListItemButton kivy.uix.listview.ListItemButton

<HomeScreen>:
    rows: 2
    spacing: 10
    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 10
        pos: root.x, (root.height-50)
 
        # Make the background for the toolbar blue
        canvas:
            Color:
                rgba: hex('#0099cc')
            Rectangle:
                pos: self.pos
                size: self.size
        Button:
        	on_press: root.manager.current = 'homescreen_1'
            background_normal: 'icons/home.png'
            size_hint_x: None
            width:50

    BoxLayout:
        size_hint_y: None
        height: 500
        spacing: 50
        padding: 50
        pos: root.x, (root.height-560)

        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size

        	Button:
            	text: "Start"
				font_size: 20
				on_press: root.manager.current = 'runscreen_2'

        	Button:
            	text: "Device Tester"
				font_size: 20
				on_press: root.manager.current = 'device_tester_screen_3'

        	Button:
            	text: "Connect Devices"
				font_size: 20
				on_press: root.manager.current = 'connect_devices_screen_4'

        	Button:
            	text: "Edit Device Groups"
				font_size: 20
				on_press: root.manager.current = 'edit_device_groups_screen_5'

        	Button:
            	text: "Edit Group Behavior"
				font_size: 20
				on_press: root.manager.current = str(root.skipBuild)
				on_release: root.skip_build_screen(1)

        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size
    		Label:
				text: "Connected Devices"
				font_size: 30

<RunScreen>:
    rows: 2
    spacing: 10
    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 10
        pos: root.x, (root.height-50)
 
        # Make the background for the toolbar blue
        canvas:
            Color:
                rgba: hex('#0099cc')
            Rectangle:
                pos: self.pos
                size: self.size
        Button:
        	on_press: root.manager.current = 'homescreen_1'
            background_normal: 'icons/home.png'
            size_hint_x: None
            width:50

    BoxLayout:
        size_hint_y: None
        height: 500
        spacing: 50
        padding: 50
        pos: root.x, (root.height-560)

        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size
    		Label:
				text: "Cycle Running"
				font_size: 30

<DeviceTesterScreen>:
    rows: 2
    spacing: 10
    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 10
        pos: root.x, (root.height-50)
 
        # Make the background for the toolbar blue
        canvas:
            Color:
                rgba: hex('#0099cc')
            Rectangle:
                pos: self.pos
                size: self.size
        Button:
        	on_press: root.manager.current = 'homescreen_1'
            background_normal: 'icons/home.png'
            size_hint_x: None
            width:50

    BoxLayout:
        size_hint_y: None
        height: 500
        spacing: 50
        padding: 50
        pos: root.x, (root.height-560)

        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size

        	Button:
            	text: "Test Device"
				font_size: 20
				height: 100
			
			Label:
				text: "Device List"
				font_size: 30


        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size
    		Label:
				text: "Device Information"
				font_size: 30

<ConnectDevicesScreen>:
    rows: 2
    spacing: 10
    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 10
        pos: root.x, (root.height-50)
 
        # Make the background for the toolbar blue
        canvas:
            Color:
                rgba: hex('#0099cc')
            Rectangle:
                pos: self.pos
                size: self.size
        Button:
        	on_press: root.manager.current = 'homescreen_1'
            background_normal: 'icons/home.png'
            size_hint_x: None
            width:50

    BoxLayout:
        size_hint_y: None
        height: 500
        spacing: 50
        padding: 50
        pos: root.x, (root.height-560)

        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size

			BoxLayout:
			    orientation: "horizontal"
			    spacing: 10
			    padding: 10
			    canvas:
			        Color:
			            rgba: hex('#0099cc')
			        Rectangle:
			            pos: self.pos
			            size: self.size

			    Button:
            		text: "Scan"
					font_size: 20
					height: 100

			    Button:
            		text: "Connect"
					font_size: 20
					height: 100

			Label:
				text: "Devices Found"
				font_size: 30

        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size

			Label:
				text: "Connected Devices"
				font_size: 30

			BoxLayout:
			    orientation: "horizontal"
			    spacing: 10
			    padding: 10
			    canvas:
			        Color:
			            rgba: hex('#0099cc')
			        Rectangle:
			            pos: self.pos
			            size: self.size

			    Button:
            		text: "Disconnect Device"
					font_size: 20
					height: 100

<EditDeviceGroupsScreen>:
    rows: 2
    spacing: 10
    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 10
        pos: root.x, (root.height-50)
 
        # Make the background for the toolbar blue
        canvas:
            Color:
                rgba: hex('#0099cc')
            Rectangle:
                pos: self.pos
                size: self.size
        Button:
        	on_press: root.manager.current = 'homescreen_1'
            background_normal: 'icons/home.png'
            size_hint_x: None
            width:50

    BoxLayout:
        size_hint_y: None
        height: 500
        spacing: 50
        padding: 50
        pos: root.x, (root.height-560)

        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size
			
			Label:
				text: "Device List"
				font_size: 30

        	Button:
            	text: "Group Menu"
				font_size: 20
				height: 100

        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size
    		Label:
				text: "Device Information"
				font_size: 30

<BuildTimelineScreen>:
    rows: 2
    spacing: 10
    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 10
        pos: root.x, (root.height-50)
 
        # Make the background for the toolbar blue
        canvas:
            Color:
                rgba: hex('#0099cc')
            Rectangle:
                pos: self.pos
                size: self.size
        Button:
        	on_press: root.manager.current = 'homescreen_1'
            background_normal: 'icons/home.png'
            size_hint_x: None
            width:50

    BoxLayout:
        size_hint_y: None
        height: 500
        spacing: 50
        padding: 50
        pos: root.x, (root.height-560)

        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size
    		Button:
				text: "Build Timeline"
				on_press: root.manager.current = 'edit_timeline_screen_7'
				font_size: 30

			Button:
				text: "Load Timeline"
				font_size: 30

<EditTimelineScreen>:
    rows: 2
    spacing: 10
    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size

    #ToolBar
    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 10
        pos: root.x, (root.height-50)
 
        # Make the background for the toolbar blue
        canvas:
            Color:
                rgba: hex('#0099cc')
            Rectangle:
                pos: self.pos
                size: self.size
        Button:
        	on_press: root.manager.current = 'homescreen_1'
            background_normal: 'icons/home.png'
            size_hint_x: None
            width:50

    BoxLayout:
        size_hint_y: None
        height: 500
        spacing: 50
        padding: 50
        pos: root.x, (root.height-560)

        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size
    		Label:
				text: "Edit Timeline"
				font_size: 30

<EditGroupBehaviourScreen>:
    rows: 2
    spacing: 10
    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 10
        pos: root.x, (root.height-50)
 
        # Make the background for the toolbar blue
        canvas:
            Color:
                rgba: hex('#0099cc')
            Rectangle:
                pos: self.pos
                size: self.size
        Button:
        	on_press: root.manager.current = 'homescreen_1'
            background_normal: 'icons/home.png'
            size_hint_x: None
            width:50

    BoxLayout:
        size_hint_y: None
        height: 500
        spacing: 50
        padding: 50
        pos: root.x, (root.height-560)

        BoxLayout:
    		orientation: "vertical"
        	spacing: 10
        	padding: 10
        	canvas:
            	Color:
                	rgba: hex('#0099cc')
            	Rectangle:
                	pos: self.pos
                	size: self.size
    		Label:
				text: "Edit Group Behaviour"
				font_size: 30

<Manager>:
	id: screen_manager
	home_screen: home_screen
	run_screen: run_screen
	device_tester_screen: device_tester_screen
	connect_devices_screen: connect_devices_screen
	edit_device_groups_screen: edit_device_groups_screen
	build_timeline_screen: build_timeline_screen
	edit_timeline_screen: edit_timeline_screen
	edit_group_behaviour_screen: edit_group_behaviour_screen

	HomeScreen:
		id: home_screen
		name: 'homescreen_1'
		manager: screen_manager

	RunScreen:
		id: run_screen
		name: 'runscreen_2'
		manager: screen_manager
	
	DeviceTesterScreen:
		id: device_tester_screen
		name: 'device_tester_screen_3'
		manager: screen_manager

	ConnectDevicesScreen:
		id: connect_devices_screen
		name: 'connect_devices_screen_4'
		manager: screen_manager

	EditDeviceGroupsScreen:
		id: edit_device_groups_screen
		name: 'edit_device_groups_screen_5'
		manager: screen_manager

	BuildTimelineScreen:
		id: build_timeline_screen
		name: 'build_timeline_screen_6'
		manager: screen_manager

	EditTimelineScreen:
		id: edit_timeline_screen
		name: 'edit_timeline_screen_7'
		manager: screen_manager
	
	EditGroupBehaviourScreen:
		id: edit_group_behaviour_screen
		name: 'edit_group_behaviour_screen_8'
		manager: screen_manager